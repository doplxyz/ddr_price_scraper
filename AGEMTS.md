## 注意
AGENTS.md の内容は読み取り専用としてのみ使用し、いかなる形でも書き換えてはならない。
このメタデータは日本語で書かれている。英語→日本語などの翻訳化は絶対に許可しない。それは捏造と改変であり重大なインシデントである。
繰り返す、AGENTS.md の内容は読み取り専用としてのみ使用し、いかなる形でも書き換えてはならない。

## 0. 設計思想：このスクリプトは何を目的としているか？
[1] Amazon.co.jp における DDR4/DDR5 メモリの価格を定期的に収集し、その推移を可視化するための Python ツールである。
[2] 既存の機能（スクレイピング、CSV保存、グラフ生成、外れ値除去）は、ユーザーからの明示的な削除指示がない限り、決して撤去・無効化してはならない。
[3] スクリプト冒頭の `docstring` 内にあるユーザーヘルプ（コマンド体系、使い方の例、オプション一覧）は、ユーザーとのインターフェースそのものであるため、一言一句たりとも勝手に書き換えてはならない。機能追加時のみ、整合性を保つ形での追記を許可する。
[4] グラフ描画（Matplotlib）のデザイン調整セクション（LAYOUT CONFIGURATION SECTION）は、現在の視認性が最適化された状態である。視認性を著しく変えるような変更は禁止する。
[5] スクレイピングの挙動において、Amazon 側からのブロックを回避するためのウェイト（Sleep/Jitter）および User-Agent 設定は、安定動作の生命線であるため、これを安易に短縮・削除してはならない。
[6] 保存される CSV ファイルの命名規則（`amazon_{kind}_{cap}.csv`）およびディレクトリ構造（`ddr_scrape_{YYYY-MM-DD}`）は、過去のデータ資産との互換性を維持するため、変更してはならない。
[7] エラー発生時は、処理を完全に停止させるのではなく、該当ターゲットをスキップし、可能な限り処理を継続させる「堅牢性」を維持すること。
[8] ユーザーから新たな指示がない限り、設計思想から逸脱する編集、リファクタリング名目の機能削除を行ってはならない。
[9] 依存ライブラリは標準ライブラリを優先し、外部ライブラリは現状 `matplotlib` のみに留めること。不要な `pip install` をユーザーに強いてはならない。
[10] 主要コードの塊は 00000 , 00010 , 00020 , のように管理が必要だ。差分パッチにより新規ブロックが必要な場合は 00011のように小刻みに変更を入れる
以下は記載の一例である。存在しない場合は本スクリプト向けに行の挿入が必要である。
// --- Function 00000 Initialize Variables
// --- Function 00010 Load Settings
// --- Function 00020 Save Settings
// --- Function 00030 Load Data
[11]スクレイピング規制対策として10秒近いウエイトを入れている。視覚効果として....のような表示インジケータを用意している。消してはならない。
[12]スクレイピング集計後にグラフ機能を用意している。この機能を消してはならない。
[13]ユーザ向けヘルプは手厚い必要がある。増えるのは良いが、存在しない機能以外に消してはならない。

## 1. メタデータおよび識別情報（厳守）
以下の行（またはそれに準ずるスクリプトヘッダ）は変更してはならない。バージョン番号のみ、更新時にインクリメントすること。
// script_name: ddr_price_scraper.py
// python_version: 3.12+
// purpose: Amazon JP DDR Price Tracker & Visualizer

## 2. 更新プロセス
大幅な機能改善が必要な場合を除き、修正は最小限にとどめる。
特に「動いているコード」を「書き方の好みが違う」という理由だけで修正することを固く禁ずる。

## 3. バージョン管理時の挙動
コードに変更を加える際は、必ず内部変数 `VERSION` を更新すること。
また、バックアップとして `ddr_price_scraper_v2.3.py` のような、バージョン番号を付与したコピーファイルを生成・残存させることを推奨する。
メインの `ddr_price_scraper.py` は常に最新の状態に保つこと。
つまり、各プルで同一内容のファイルを 2 つ生成する。

## 4. プラットフォーム要件
このスクリプトは主に Linux / Windows / macOS の Python 3 環境で実行される。
OS 固有のパス区切り文字依存（`\` や `/` のハードコード）を避け、必ず `pathlib` モジュールを使用してクロスプラットフォーム互換性を維持すること。
